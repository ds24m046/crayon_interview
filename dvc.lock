schema: '2.0'
stages:
  preprocess:
    cmd: python3 src/training/preprocess.py
    deps:
    - path: inputs/data.csv
      hash: md5
      md5: b3c509ff1bec723e9c1f2483f709e42c
      size: 18954317
    - path: src/training/preprocess.py
      hash: md5
      md5: 65c9e4c1aeb4a8cc567122a0ad9470f5
      size: 2246
    outs:
    - path: artifacts/data.json
      hash: md5
      md5: 92a1820ca70e883a6f5f103def3528f6
      size: 11621692
    - path: artifacts/tag2idx.json
      hash: md5
      md5: 3d491b0300b596b050bd8e7487373f43
      size: 110
  retrain:
    cmd: python3 src/training/train.py
    deps:
    - path: artifacts/data.json
      hash: md5
      md5: 92a1820ca70e883a6f5f103def3528f6
      size: 11621692
    - path: artifacts/tag2idx.json
      hash: md5
      md5: 3d491b0300b596b050bd8e7487373f43
      size: 110
    outs:
    - path: artifacts/distribution.pkl
      hash: md5
      md5: 0991def3a82458afbbb4cf7abb2dc90c
      size: 35351
    - path: artifacts/model.pt
      hash: md5
      md5: 9cbc800a3e667b7c652ca9501139d0f7
      size: 48437191
    - path: artifacts/model_config.json
      hash: md5
      md5: 3081f700969ed8b02d7a90375eaee9cc
      size: 32
    - path: artifacts/vectorizer.pkl
      hash: md5
      md5: 69e9ef641ad10ec02f2ea8938c660c05
      size: 88700
